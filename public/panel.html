<!DOCTYPE html>
<html>
<head>
        <style>
                .row {
                    display: flex;
                  }
                  
                 
            .column {
                    flex: 50%;
                  }
                  body{
          background-image: url("https://pixel.nymag.com/imgs/daily/grub/2017/04/17/bar-moga/17-bar-moga-1.w710.h473.2x.jpg");
          background-repeat:no-repeat;
          background-size:cover;
                  }
                  p { 
            color:white;
            }
                </style>
         
    <title>Viewer Page</title>
</head>
<body style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;color:white">
    <div id="app" class="full-height"></div>
    <script src="https://extension-files.twitch.tv/helper/v1/twitch-ext.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="viewer.js" type="text/javascript"></script>
    <h2 style="text-align: center;">Bar Fight!!!</h2>
    <div class="container">
        <script type="text/javascript">
            var time = 18.0;
        </script>
        <div class="row">
          <div class="column">
            <img id="picture" src="punch1.png" width="100" height="150" />
            <div id="winner" style="width:100px;height:50px;display: none; text-decoration-color: seashell;">You Won!!!</div>
            <div id="loser" style="width:100px;height:50px;display: none; text-decoration-color: seashell;">You Lost!!!</div>
            <button type="button" onClick="restart()" style="display: none" id=again>Try to Beat Your Time?</button>
            <button type="button" onClick="replay()" style="display: none" id=replay>Try Again?</button>
            <script type="text/javascript">
                var clicks = 0;
                function replay()
                {
                    clicks = 0;
                    clicks2 = 0;
                    window.setInterval(onClick2, time);
                    elem.style.height = 0 + "px";
                    go.style.display = "none";
                }
                function restart()
                {
                    time = time*clicks2/100;
                    clicks = 0;
                    clicks2 = 0;
                    window.setInterval(onClick2, time*10);
                    elem.style.height = 0 + "px";
                    play.style.display = "none";
                }
                function onClick() {
            
                var elem = document.getElementById("bar1");
                if((clicks2 < 100) && (clicks < 100))
                {
                    punchAnimation();
                    clicks += 1;
                    var myHeight = clicks * 2.5;
                    elem.style.height = myHeight + "px";
                    var elem2 = document.getElementById("whiteBar1");
                    elem2.style.height = 250 - myHeight + "px";
                }
                else if(clicks == 100)
                {
                    var win = document.getElementById("winner");
                    win.style.display = "block";
                    var loss = document.getElementById("loser2");
                    loss.style.display = "block";
                    var play = document.getElementById("again");
                    play.style.display = "block";
                    
                }
                document.getElementById("clicks").innerHTML = clicks;
                };

                var imageTracker = 1; 
                function punchAnimation(){
                var image = document.getElementById("picture");
                if(imageTracker==1){
                    image.src = "punch2.png";
                  imageTracker = 2; 
                }else{
                    image.src = "punch1.png";
                    imageTracker = 1; 
                }   
                }
            </script>
            
            
        
            <div id="barOutline" style="width:50px;height:250px;border:3px solid white;vertical-align: bottom">
                <div id="whiteBar1" style="width:50px;height:250px;background-color: white"></div>
                <div id="bar1" style="width:50px;height:0px;border:1px soli white;background-color: blue;vertical-align: bottom"></div>
            </div>
            <!--<p>Clicks: <a id="clicks">0</a></p>-->
            <button type="button" onClick="onClick()">Click Button to Fill Bar</button>
            </div>
        <div class="column">
            <img id="picture2" src="punch3.png" width="100" height="150" />
            <div id="winner2" style="width:100px;height:50px;display: none"; text-decoration-color: seashell;>You Won!!!</div>
            <div id="loser2" style="width:100px;height:50px;display: none"; text-decoration-color: seashell;>You Lost!!!</div>
            <script type="text/javascript">
                var i;
                var clicks2 = 0;
                
                window.setInterval(onClick2, time*10);
                
                function onClick2() {
            
                var elem = document.getElementById("bar2");
                if((clicks2 < 100) && (clicks < 100))
                {
                    punchAnimation2();
                    clicks2 += 1;
                    var myHeight = clicks2 * 2.5;
                    elem.style.height = myHeight + "px";
                    var elem2 = document.getElementById("whiteBar2");
                    elem2.style.height = 250 - myHeight + "px";
                }
                else if(clicks2 == 100)
                {
                    var win = document.getElementById("winner2");
                    win.style.display = "block";
                    var loss = document.getElementById("loser");
                    loss.style.display = "block";
                    var go = document.getElementById("replay");
                    go.style.display = "block";
                }
                document.getElementById("clicks2").innerHTML = clicks2;
                };

                var imageTracker = 1; 
                function punchAnimation2(){
                var image = document.getElementById("picture2");
                if(imageTracker==1){
                    image.src = "punch4.png";
                  imageTracker = 2; 
                }else{
                    image.src = "punch3.png";
                    imageTracker = 1; 
                }   
                }
            </script>
            
        
            <div id="barOutline2" style="width:50px;height:250px;border:3px solid white;vertical-align: bottom">
                <div id="whiteBar2" style="width:50px;height:250px;background-color: white"></div>
                <div id="bar2" style="width:50px;height:0px;border:1px solid white;background-color: red;vertical-align: bottom"></div>
            </div>
            <!--<p>Clicks: <a id="clicks2">0</a></p>-->
            </div>
    </div>
    </div>
    <div id="list">
    </div>
</body>
</html>
